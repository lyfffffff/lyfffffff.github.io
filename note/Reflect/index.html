<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>LYFFFF 的博客呀</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="./public/logo.webp">
    <meta name="description" content="道阻且长，勤能补拙">
    
    <link rel="preload" href="/assets/css/0.styles.9825735b.css" as="style"><link rel="preload" href="/assets/js/app.6530ad20.js" as="script"><link rel="preload" href="/assets/js/2.2defd20b.js" as="script"><link rel="preload" href="/assets/js/13.42c47d09.js" as="script"><link rel="prefetch" href="/assets/js/10.5b87f6f1.js"><link rel="prefetch" href="/assets/js/11.605e13b4.js"><link rel="prefetch" href="/assets/js/12.edb8b435.js"><link rel="prefetch" href="/assets/js/14.acae71de.js"><link rel="prefetch" href="/assets/js/15.c19c27bf.js"><link rel="prefetch" href="/assets/js/16.28ea1cb9.js"><link rel="prefetch" href="/assets/js/17.2323a2f9.js"><link rel="prefetch" href="/assets/js/18.94c1c8f9.js"><link rel="prefetch" href="/assets/js/19.1c94f1fe.js"><link rel="prefetch" href="/assets/js/20.ab9731c3.js"><link rel="prefetch" href="/assets/js/21.2cc40154.js"><link rel="prefetch" href="/assets/js/22.258a8bcb.js"><link rel="prefetch" href="/assets/js/3.934fae14.js"><link rel="prefetch" href="/assets/js/4.11957e18.js"><link rel="prefetch" href="/assets/js/5.e5b70a6f.js"><link rel="prefetch" href="/assets/js/6.4169e03e.js"><link rel="prefetch" href="/assets/js/7.c3602c94.js"><link rel="prefetch" href="/assets/js/8.f8905adf.js"><link rel="prefetch" href="/assets/js/9.8d9924b6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9825735b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">LYFFFF 的博客呀</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Hmoe
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/note/正则表达式/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/note/客户端存储/" class="nav-link">
  客户端存储
</a></li><li class="dropdown-item"><!----> <a href="/note/模块化/" class="nav-link">
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/note/渲染式组件/" class="nav-link">
  渲染式组件
</a></li><li class="dropdown-item"><!----> <a href="/note/原型和原型链/" class="nav-link">
  原型和原型链
</a></li><li class="dropdown-item"><!----> <a href="/note/组件传值/" class="nav-link">
  组件传值
</a></li><li class="dropdown-item"><!----> <a href="/note/Reflect/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Reflect
</a></li><li class="dropdown-item"><!----> <a href="/note/Vue响应式原理/" class="nav-link">
  Vue响应式原理
</a></li><li class="dropdown-item"><!----> <a href="/note/VueRouter/" class="nav-link">
  VueRouter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lyfffffff" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/LYFFFF_" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSND
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Hmoe
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/note/正则表达式/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/note/客户端存储/" class="nav-link">
  客户端存储
</a></li><li class="dropdown-item"><!----> <a href="/note/模块化/" class="nav-link">
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/note/渲染式组件/" class="nav-link">
  渲染式组件
</a></li><li class="dropdown-item"><!----> <a href="/note/原型和原型链/" class="nav-link">
  原型和原型链
</a></li><li class="dropdown-item"><!----> <a href="/note/组件传值/" class="nav-link">
  组件传值
</a></li><li class="dropdown-item"><!----> <a href="/note/Reflect/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Reflect
</a></li><li class="dropdown-item"><!----> <a href="/note/Vue响应式原理/" class="nav-link">
  Vue响应式原理
</a></li><li class="dropdown-item"><!----> <a href="/note/VueRouter/" class="nav-link">
  VueRouter
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lyfffffff" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/LYFFFF_" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSND
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/Reflect/" aria-current="page" class="active sidebar-link">Reflect</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Reflect/#_1-为什么还要-reflect" class="sidebar-link">1，为什么还要 Reflect</a></li><li class="sidebar-sub-header"><a href="/note/Reflect/#_2-reflect" class="sidebar-link">2，Reflect</a></li><li class="sidebar-sub-header"><a href="/note/Reflect/#_3-代理和反射" class="sidebar-link">3，代理和反射</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>[toc]</p> <h1 id="reflect"><a href="#reflect" class="header-anchor">#</a> Reflect</h1> <p>Reflect 表示反射的意思，在程序中，反射机制指的是作为一个媒介，可以获取任意对象的信息。</p> <p>Reflect 是 ES6 推出的，在 ES6 之前， JS 中也有许多反射的方法，尤其是 Object。</p> <p>例如 Object.getOwnPropertyNames(obj)，反射出 obj 的自身属性集。</p> <h2 id="_1-为什么还要-reflect"><a href="#_1-为什么还要-reflect" class="header-anchor">#</a> 1，为什么还要 Reflect</h2> <p>在已有许多反射方法下，为什么还需要 reflect？原因有下：</p> <ul><li>有些内部的方法不希望被暴露，即其只希望从内部调用。</li> <li>Reflect 返回值更合理。</li> <li>Object 存在命令式，例如：delete/in，不符合面向对象的思想。</li></ul> <p>很简单，我们想得到一个专门用于反射的对象，其更合理，更简洁，以后有新的反射方法也倾向于添加在 Reflect 中。</p> <h2 id="_2-reflect"><a href="#_2-reflect" class="header-anchor">#</a> 2，Reflect</h2> <p>Reflect 是一个内嵌在 window 中的对象，故不能构造使用，只能调用其中方法，效果类似于 Math 和 Globel。</p> <p>Reflect 中的方法在 Object 上基本有所对应，但是一般简洁、优于 Object 的方法。</p> <p>Reflect 对象拥有 13 个方法，且对第一个参数严格控制，若不传对象/函数，报错。</p> <p>Reflect 用于反射对象，那需先补充一下对象 Object 的相关知识。</p> <h3 id="_2-1-object-的知识"><a href="#_2-1-object-的知识" class="header-anchor">#</a> 2.1，Object 的知识</h3> <p>JS 定义对象属性的方式有两种，直接定义和 get/set 定义。</p> <p>而 Reflect 反射这两种方法定义的属性时，会有区别。</p> <h4 id="_2-1-1-js-对象中的-get-和-set"><a href="#_2-1-1-js-对象中的-get-和-set" class="header-anchor">#</a> 2.1.1，JS 对象中的 get 和 set</h4> <p>get/set 是一个函数，函数名作为对象的属性名。</p> <p>其中 get 负责获取属性值，函数返回值为属性值，一般函数需有 return 返回语句。</p> <p>set 负责设置属性值，函数内部一般不需要返回。</p> <p>get/set 皆可以通过 this 获取对象中的其他属性。</p> <p>直接定义属性和 get/set 定义属性可以同名，但是 get/set 会对其进行覆盖。</p> <p>若只设 get/set 其一，则会产生赋值、获取失败的情况。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">_name</span><span class="token operator">:</span><span class="token string">&quot;lyf&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">Name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> Name
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-1-2-属性描述器"><a href="#_2-1-2-属性描述器" class="header-anchor">#</a> 2.1.2，属性描述器</h4> <p>JS 还有一个内部对象，用于描述对象属性的特征，被称为属性描述器（Property Descriptor）。</p> <p>不使用 Reflect 的话，需使用 <code>Object.getOwnPropertyDescriptor(obj,attribute)</code>。</p> <p>表示获取对象 obj 的属性 attribute 的属性描述器并返回。</p> <p>属性描述器可能包含五个描述符：</p> <ul><li>value<br>
属性值，默认值为 undefined。</li> <li>writable<br>
属性值是否可写，默认值为 true。</li> <li>enumerable<br>
属性是否可枚举，即是否允许使用 for/in 语句或 Object.keys() 函数遍历访问，默认为 true。</li> <li>configurable<br>
设置是否可设置属性特性，默认为 true。如果为false，将无法删除该属性，不能够修改属性值，也不能修改属性的属性描述符。</li> <li>get<br>
取值函数，默认为 undefined。</li> <li>set<br>
存值函数，默认为 undefined。</li></ul> <p>不使用 Reflect 的话，修改属性描述器通过 <code>Object.defineProperty(obj,attribute,descriptor)</code></p> <h3 id="_2-2-reflect-方法简析"><a href="#_2-2-reflect-方法简析" class="header-anchor">#</a> 2.2，Reflect 方法简析</h3> <h4 id="_2-2-1-relect-get-obj-attribute-receiver-any"><a href="#_2-2-1-relect-get-obj-attribute-receiver-any" class="header-anchor">#</a> 2.2.1，Relect.get(obj, attribute, receiver?):any</h4> <p>获取 obj 的 attribute 属性值。</p> <p>receiver 可选，表示该属性为 get/set 赋值时，this 的指向。</p> <p>和 Object[attribute] 操作符效果相同</p> <h4 id="_2-2-2-relect-set-obj-attribute-value-receiver-boolean"><a href="#_2-2-2-relect-set-obj-attribute-value-receiver-boolean" class="header-anchor">#</a> 2.2.2，Relect.set(obj, attribute, value, receiver?):Boolean</h4> <p>设置 obj 的 attribute 属性值为 value。</p> <p>receiver 可选，表示该属性为 get/set 赋值时，this 的指向。</p> <p>返回一个 Boolean 值，设置成功则返回 true，否则返回 false。</p> <p>和 Object[attribute] = value 操作符效果相同。</p> <h4 id="_2-2-3-relect-has-obj-attribute-boolean"><a href="#_2-2-3-relect-has-obj-attribute-boolean" class="header-anchor">#</a> 2.2.3，Relect.has(obj, attribute):Boolean</h4> <p>判断 obj 是否包含 attribute 属性。</p> <p>返回一个 Boolean 值。</p> <p>和 Object 的 in 操作符效果相同。</p> <h4 id="_2-2-4-relect-deleteproperty-obj-attribute-boolean"><a href="#_2-2-4-relect-deleteproperty-obj-attribute-boolean" class="header-anchor">#</a> 2.2.4，Relect.deleteProperty(obj, attribute):Boolean</h4> <p>删除 obj 的属性 attribute。</p> <p>返回一个 Boolean 值。</p> <p>和 Object 的 delete 操作符效果相同。</p> <h4 id="_2-2-5-relect-construct-fun-args-constructorfun-obj"><a href="#_2-2-5-relect-construct-fun-args-constructorfun-obj" class="header-anchor">#</a> 2.2.5，Relect.construct(fun, args, constructorFun?):obj</h4> <p>等同于 new 实例化，返回值为构造函数 fun 的实例对象。</p> <p>args 为一个类数组，表示 new 构造函数实例时的参数列表。</p> <p>constructorFun 可选，表示构造实例的原型属性的 constructor 指向，即 <code>obj.__proto__.constructor == constructorFun</code>。</p> <p>若 fun 不是构造函数，则抛出错误。</p> <p>若 args 不是类数组，则抛出错误。</p> <p>reflect.construct(Fun，['lyf']) 和 new Fun(...['lyf']) 操作符效果相同。</p> <h4 id="_2-2-6-relect-apply-fun-receiver-args-obj"><a href="#_2-2-6-relect-apply-fun-receiver-args-obj" class="header-anchor">#</a> 2.2.6，Relect.apply(fun, receiver, args):obj</h4> <p>与 Function.prototype.call() 类似。</p> <p>fun 表示需构造的函数、receiver 表示绑定的 this、args 表示传入函数的实参，传入一个数组。</p> <p>若 fun 不是构造函数，则抛出错误。</p> <p>返回值为构造函数 fun 的实例对象。</p> <h4 id="_2-2-7-relect-getprototypeof-obj-obj"><a href="#_2-2-7-relect-getprototypeof-obj-obj" class="header-anchor">#</a> 2.2.7，Relect.getPrototypeOf(obj):obj</h4> <p>获取对象 obj 的原型对象，给定对象 obj 的原型属性对象。</p> <p>和 Object.getPrototypeOf() 操作符效果相同。</p> <h4 id="_2-2-8-relect-setprototypeof-obj-newproto-boolean"><a href="#_2-2-8-relect-setprototypeof-obj-newproto-boolean" class="header-anchor">#</a> 2.2.8，Relect.setPrototypeof(obj, newProto):Boolean</h4> <p>设置对象 obj 的原型对象。</p> <p>返回一个 Boolean， 如果更新成功，则返回true。</p> <p>和 Object.setPrototypeof() 操作符效果相同。</p> <h4 id="_2-2-9-relect-defineproperty-obj-attribute-descriptor-boolean"><a href="#_2-2-9-relect-defineproperty-obj-attribute-descriptor-boolean" class="header-anchor">#</a> 2.2.9，Relect.defineProperty(obj, attribute, descriptor):Boolean</h4> <p>设置对象 obj 的 attribute 属性的 descriptor 描述。</p> <p>返回一个 Boolean， 如果更新成功，则返回true。</p> <p>和 Object.defineProperty() 操作符效果相同。</p> <h4 id="_2-2-10-relect-getownpropertydescriptor-obj-propertykey-obj-undefined"><a href="#_2-2-10-relect-getownpropertydescriptor-obj-propertykey-obj-undefined" class="header-anchor">#</a> 2.2.10，Relect.getOwnPropertyDescriptor(obj, propertyKey):obj|undefined</h4> <p>如果对象 obj 中存在该属性，则返回对应的属性描述符，否则返回 undefined。</p> <p>和 Object.getOwnPropertyDescriptor() 操作符效果相同。</p> <h4 id="_2-2-11-relect-isextensible-obj"><a href="#_2-2-11-relect-isextensible-obj" class="header-anchor">#</a> 2.2.11，Relect.isExtensible(obj)</h4> <p>检查对象 obj 是否可扩展。</p> <p>是否可扩展表示是否能在 obj 上添加新属性。</p> <p>类似于 Object.isExtensible()。</p> <h4 id="_2-2-12-relect-preventextensions-obj"><a href="#_2-2-12-relect-preventextensions-obj" class="header-anchor">#</a> 2.2.12，Relect.preventExtensions(obj)</h4> <p>将对象 obj 设置为不可扩展。</p> <p>类似于 Object.preventExtensions()。</p> <h4 id="_2-2-13-relect-ownkeys-obj"><a href="#_2-2-13-relect-ownkeys-obj" class="header-anchor">#</a> 2.2.13，Relect.ownKeys(obj)</h4> <p>返回一个包含 obj 所有属性名的数组</p> <p>类似于 Object.keys()，但不会受 enumerable 影响。</p> <h3 id="_2-3-reflect-和-object-的对比"><a href="#_2-3-reflect-和-object-的对比" class="header-anchor">#</a> 2.3，Reflect 和 Object 的对比</h3> <table><thead><tr><th>Reflect</th> <th>Object</th> <th>功能</th></tr></thead> <tbody><tr><td>Reflect.has(attribute)</td> <td>attribute in obj</td> <td>检查属性是否在对象中，使用前者</td></tr> <tr><td>Reflect.set(obj, attribute, value, receiver)</td> <td>obj[attribute] = value</td> <td>设置对象属性，常用后者</td></tr> <tr><td>Reflect.get(obj, attribute, reciver)</td> <td>obj[attribute]</td> <td>获取对象属性，常用后者</td></tr> <tr><td>Reflect.deleteProperty(obj, attribute)</td> <td>delete obj[attribute]</td> <td>删除对象的属性，使用前者</td></tr> <tr><td>Reflect.ownKeys(obj)</td> <td>Object.keys(obj)</td> <td>皆返回一个属性组成的数组，前者返回所有属性，后者只返回可枚举属性</td></tr> <tr><td>Reflect.defineProperty(obj, attribute, descriptor)</td> <td>Object.defineProperty(obj, attribute, descriptor)</td> <td>全面地<strong>描述</strong>属性，前者返回 Boolean 值，后者返回设置好的对象</td></tr> <tr><td>Reflect.getOwnPropertyDescriptor(obj, attribute)</td> <td>Object.getOwnPropertyDescriptor(obj, attribute)</td> <td>返回对象某属性的属性描述符对象，二者几乎一致，无该属性则返回 undefined</td></tr> <tr><td>Reflect.getPrototypeOf(obj)</td> <td>Object.getPrototypeOf(obj)</td> <td>返回原型对象，如无返回 null，二者几乎一致</td></tr> <tr><td>Reflect.setPrototypeOf(obj, prototype)</td> <td>Object.setPrototypeOf(obj, prototype)</td> <td>设置对象的原型对象，前者返回 Boolean 值，后者返回新对象</td></tr> <tr><td>Reflect.isExtensible(obj)</td> <td>Object.isExtensible(obj)</td> <td>检查对象是否可扩展，二者几乎一致</td></tr> <tr><td>Reflect.preventExtensions(obj)</td> <td>Object.preventExtensions(obj)</td> <td>将对象设置为不可扩展的，前者返回 Boolean 值，后者返回设置好的对象，且后者若参数为非对象，会将其返回</td></tr> <tr><td>Reflect.apply(fun, receiver, args)</td> <td>Function.prototype.apply(receivers, args)</td> <td>二者功能几乎一致，常使用后者</td></tr> <tr><td>Reflect.construct(Fun, args)</td> <td>new Fun(args)</td> <td>构造函数实例，常使用后者</td></tr></tbody></table> <h2 id="_3-代理和反射"><a href="#_3-代理和反射" class="header-anchor">#</a> 3，代理和反射</h2> <p>综上我们知道，除了 delete/in ，我们很少使用 Reflect 代替 Object。</p> <p>这是因为反射常常用于和代理联合使用。</p> <h3 id="_3-1-代理-proxy"><a href="#_3-1-代理-proxy" class="header-anchor">#</a> 3.1，代理（Proxy）</h3> <p>Proxy 也是 ES6 衍生的，通过代理可以为目标对象生成一个替身抽象，用于在影响目标对象前，代替试错。</p> <ul><li>new Proxy(targetObj, handler):obj<br>
参数 targetObj 表示需代理的目标对象，handler 表示处理程序对象。</li></ul> <p>若 handler 为空对象，表示不作任何处理，返回一个空代理，在代理对象
上执行的所有操作都会无障碍地传播到目标对象，当然这意义不大。</p> <p>参数都是必填的，否则报错。</p> <p>返回一个代理对象实例，形如 <code>{ [[Handler]], [[Target]] }</code>。</p> <h4 id="_3-1-1-常见代理使用场景"><a href="#_3-1-1-常见代理使用场景" class="header-anchor">#</a> 3.1.1，常见代理使用场景</h4> <ul><li><p>this<br>
在 this 的指向有问题时，需将 this 保存在另一个变量中。</p></li> <li><p>事件委托<br>
将子节点（li）的事件代理在父节点（ul）上，以便代理一类子节点。</p></li> <li><p>经纪人和明星<br>
用户直接访问的是经纪人，某些事情由经纪人决定，某些事情由经纪人转达。</p></li></ul> <h4 id="_3-1-2-捕获器与反射"><a href="#_3-1-2-捕获器与反射" class="header-anchor">#</a> 3.1.2，捕获器与反射</h4> <p>代理的关键是让事件到达目标函数前，对其进行操作。</p> <p>让事件停止的行为称为拦截，实现拦截的媒介称之为捕获器。</p> <p>构建 handler 处理程序对象，就是在为代理设置零或多个捕获器。</p> <p>而每个捕获器 API 都和反射的方法对应，即 Reflect 有 13 个方法，而捕获器也有 13 个，代理有何参数，反射也有何参数。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6530ad20.js" defer></script><script src="/assets/js/2.2defd20b.js" defer></script><script src="/assets/js/13.42c47d09.js" defer></script>
  </body>
</html>
